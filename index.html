<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Freecam UI</title>

<style>
body {
    margin: 0;
    background: transparent;
    font-family: Arial, sans-serif;
}

#box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.75);
    padding: 20px;
    width: 350px;
    border-radius: 12px;
    color: white;
    text-align: center;
}

h1 {
    margin: 0 0 10px;
    color: #ff2b2b;
}

button {
    width: 100%;
    padding: 10px;
    margin: 5px 0;
    background: #111;
    color: white;
    border: 1px solid #ff2b2b;
    border-radius: 6px;
    cursor: pointer;
}

button:hover {
    background: #ff2b2b;
}

.info {
    margin-top: 10px;
    font-size: 14px;
    color: #ccc;
}
</style>
</head>

<body>

<div id="box">
    <h1>FREECAM</h1>

    <button onclick="send('toggle_cam')">Toggle Freecam</button>

    <button onclick="send('prev_feature')">◀ Feature</button>
    <button onclick="send('next_feature')">Feature ▶</button>

    <button onclick="send('speed_down')">- Speed</button>
    <button onclick="send('speed_up')">+ Speed</button>

    <div class="info" id="state"></div>
</div>

<script>
function send(type) {
    fetch(`https://${GetParentResourceName()}/action`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ type })
    });
}

window.addEventListener("message", function(e) {
    const d = e.data;
    if (d.action === "update") {
        document.getElementById("state").innerText =
            `Feature: ${d.feature} | Speed: ${d.speed} | Cam: ${d.state ? "ON" : "OFF"}`;
    }
});
</script>

</body>
</html>
